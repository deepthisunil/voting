<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Voting Page</title>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">


    <!-- Icons font CSS-->
    <link href="{% static 'registration/vendor/mdi-font/css/material-design-iconic-font.min.css' %}" rel="stylesheet" media="all">
    <link href="{% static 'registration/vendor/font-awesome-4.7/css/font-awesome.min.css' %}" rel="stylesheet" media="all">
    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,100i,200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

    <!-- Vendor CSS-->
    <link href="{% static 'registration/vendor/select2/select2.min.css' %}" rel="stylesheet" media="all">
    <link href="{% static 'registration/vendor/datepicker/daterangepicker.css' %}" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="{% static 'registration/css/main.css' %}" rel="stylesheet" media="all">
</head>

<body>
<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Online Voting </a>


      <a href="{% url 'login_page' %}" onclick="return show_warning()"><button class="btn btn-success" type="button" >Log Out</button></a>

  </div>
</nav>
    <div class="page-wrapper bg-gra-02 p-t-130 p-b-100 font-poppins">
        <div class="wrapper wrapper--w680">
            <div class="card card-4">
                <div class="card-body">
                    <h2 class="title"> Candidate List</h2>
                    <table class="table">
                        <thead>
                          <tr>
                            <th scope="col">SLNo</th>
                            <th scope="col">Candidate Name</th>
                            <th scope="col">Party Name</th>
                            <th scope="col">Symbol</th>
                            <th scope="col" colspan="2">Action</th>
                          </tr>
                        </thead>
                        <tbody>
                            {% for x in canditates_details %}
                          <tr>
                            <th >{{forloop.counter|add:0}}</th>
                            
                            <td>{{x.name}}</td>
                            <td>{{x.party_name}}</td>
                            <td><a href="{{x.symbol_img.url}}" ><img src="{{x.symbol_img.url}}" width="70px" height="70px" class="rounded" alt="Symbol">

                                </a> 
                            </td>
                            <form method="POST">
                                {% csrf_token %}
                                <td><button type="submit" value="{{x.id}}" name="vote" onclick="return show_alert()" class="btn btn-danger">Vote</button></td>
                            </form>
                            

                          </tr>
                          
                          {% endfor %}
                        </tbody>
                      </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Jquery JS-->
    <script src="{% static 'registration/vendor/jquery/jquery.min.js' %}"></script>
    <!-- Vendor JS-->
    <script src="{% static 'registration/vendor/select2/select2.min.js' %}"></script>
    <script src="{% static 'registration/vendor/datepicker/moment.min.js' %}"></script>
    <script src="{% static 'registration/vendor/datepicker/daterangepicker.js' %}"></script>

    <!-- Main JS-->
    <script src="{% static 'registration/js/global.js' %}"></script>

    <script>
        function show_alert()
        {
            if(!confirm("Do you confirm to vote for this candidate ?")) 
            {
                return false;
            }
            
            this.form.submit();
        }
    </script>

    
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->